(function(a,d){function c(){this.m_HTMLDivElement=document.createElement("div");this.m_HTMLDivElement.id="gameloft-display-div";LowAPI.applyStyle(this.m_HTMLDivElement,{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"});LowAPI.applyStyle(this.m_HTMLDivElement,c.DEFAULT_CSS_STYLE);c.getRootDiv().appendChild(this.m_HTMLDivElement);this.m_CurentDisplayable=null}c.getRootDiv=function(){var f=document.getElementById("gameloft-root-div");if(f=="undefined"||f==null){throw new Error("Can not found element id gameloft-root-div")}return f};c.setDefaultStyle=function(f){var g=c.DEFAULT_CSS_STYLE;if(typeof g=="undefined"){g={}}c.DEFAULT_CSS_STYLE=LowAPI.extendObject(g,f)};c.getDisplay=function(f){if(typeof c.s_all_displays=="undefined"){c.s_all_displays=[]}if(typeof c.s_all_displays[f.m_inst_id]=="undefined"){c.s_all_displays[f.m_inst_id]=new c()}return c.s_all_displays[f.m_inst_id]};c.prototype.getCurrent=function(){return this.m_CurentDisplayable};c.prototype.setCurrent=function(i){if(this.m_CurentDisplayable!=i){this.m_CurentDisplayable=i;this.m_HTMLDivElement.innerHTML="";if(this.m_CurentDisplayable!=null){this.m_HTMLDivElement.appendChild(this.m_CurentDisplayable.getHTMLElement());var l=this.m_HTMLDivElement.getBoundingClientRect();var f=l.width/(GLLibConfig.screenWidth);var p=l.height/(GLLibConfig.screenHeightActual);var o=l.height/(GLLibConfig.screenHeightMax);if(f>p){GLLibConfig.screenHeightActual=GLLibConfig.screenHeight;p=l.height/(GLLibConfig.screenHeightActual)}else{var k=Math.max(f,o);GLLibConfig.screenHeightActual=Math.round(l.height/k);p=l.height/(GLLibConfig.screenHeightActual)}var m=Math.min(f,p);var j=LowAPI.Float2Int(GLLibConfig.screenWidth*m);var n=LowAPI.Float2Int(GLLibConfig.screenHeightActual*m);var h=LowAPI.Float2Int((l.width-j)/2);var g=LowAPI.Float2Int((l.height-n)/2);this.m_CurentDisplayable.onresize(h,g,j,n,m);c.onVisible(true)}}};c.onVisible=function(g){if(c.s_all_displays){for(var h=0,f=c.s_all_displays.length;h<f;h++){if(c.s_all_displays[h].m_CurentDisplayable!=null){c.s_all_displays[h].m_CurentDisplayable.onVisible(g)}}}};var e={iPaintCount:0,isPainting:false,canvas:null,bgImage:null,width:0,height:0};var b={iPercent:0,loadingBar:null,loadingProgess:null,textImages:[],width:0,height:0};LowAPI.extendObject(a,{Display:c,},true)})(window);